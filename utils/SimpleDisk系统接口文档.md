# SimpleDisk系统接口文档



***请注意以下几点：***

1. 未作特殊说明，一切返回格式均为**json**

2. 对返回状态码的说明：

   | 状态码 | 说明                            |
   | ------ | ------------------------------- |
   | 0      | 请求成功，未出现任何差错        |
   | 3      | 请求失败，用**msg**返回错误信息 |

   





## 1. 请求文件夹/文件

- /dirpath

- GET

- 参数说明

| 参数  | 说明           |
| ----- | -------------- |
| where | 当前所在的目录 |

> 若请求的参数是 "rootPath"，则返回项目文件夹根路径，返回示例请看下面

- 返回示例

  请求成功：

```json
{
    "status_code": 0,
    "files":[
        {"filename": "name1", "type": "dir", "from": "/"},
        {"filename": "name2", "type": "file", "from": "/"}
    ],
    "from": "/"
}
```

​		说明：

> ***type***表示文件类型，**“dir”**表示目录，**"file"**表示文件
>
> ***from***表示当前请求的路径，即传进来的参数**“where”**的值

​		请求根路径成功

``` json
{
    "status_code": 0,
    "rootPath": "/"
}
```



​		请求失败：

```json
{
    "status_code": 3,
    "msg": "some reason"
}
```



## 2. 上传下载

- /updown

> 包括上传和下载功能
>
> GET请求为下载
>
> POST请求为上传

- GET

- 参数说明

  | 参数     | 说明             |
  | -------- | ---------------- |
  | filename | 要下载文件的路径 |

- 返回示例

  请求成功：

  ```
  直接下载文件
  ```

  请求失败：

  ```json
  {
      "status_code": 3,
      "msg": "some reason"
  }
  ```




- POST

- 参数说明

  | 参数 | 说明               |
  | ---- | ------------------ |
  | dir  | 要上传的文件的地点 |

  > 另外附带文件

- 返回示例

  请求成功：

  ```
  直接开始上传
  ```

  请求失败：

  ```json
  {
      "status_code": 3,
      "msg": "some reason"
  }
  ```




## 3. 文件操作

- /fileopt

  > 包括新建文件夹和删除文件操作
  >
  > GET方法为新建文件夹
  >
  > DELETE方法为删除文件（包括文件夹）

  

- GET

- 参数说明

  | 参数     | 说明                                                         |
  | -------- | ------------------------------------------------------------ |
  | dir_path | 这是要创建的文件夹全路径，由当前路径加上要创建的文件夹名组成 |

- 返回示例

  请求成功:

  ```json
  {
      "status_code": 0
  }
  ```

  请求失败：

  ```json
  {
      "status_code": 3,
      "msg": "some reason"
  }
  ```



- DELETE

- 参数说明

  | 参数      | 说明             |
  | --------- | ---------------- |
  | file_path | 要删除的文件路径 |

- 返回示例

  请求成功：

  ```json
  {
      "status_code": 0
  }
  ```

  请求失败：

  ```json
  {
      "status_code": 3,
      "msg": "some reason"
  }
  ```

  

## 4. 获取磁盘容量

- /disksize

- GET

- 无参数

- 返回示例

  请求成功：

  ```json
  {
      "status_code": 0，
      "total_size": 1000,
      "used_size": 100
  }
  ```

  说明

  > **total_size**是返回的磁盘总容量，
  >
  > **used_size**是已使用的容量
  >
  > 容量单位**mb**

  

  请求失败：

  ```json
  {
      "status_code": 3,
      "msg": "some reason"
  }
  ```

  



